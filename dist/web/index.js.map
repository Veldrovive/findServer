{"version":3,"sources":["../../src/web/index.js"],"names":["config","db","web","webDirectory","__dirname","use","static","join","get","req","res","sendFile"],"mappings":";;;;;;AAAA;;AAEA;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe,gBAAoB;AAAA,KAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,KAATC,EAAS,QAATA,EAAS;;AAClC,KAAIC,MAAM,sBAAV;AACC,KAAMC,eAAeC,YAAU,eAA/B;;AAED;AACAF,KAAIG,GAAJ,CAAQ,SAAR,EAAmB,sBAAO,EAAEL,cAAF,EAAUC,MAAV,EAAP,CAAnB;;AAEC;AACAC,KAAIG,GAAJ,CAAQ,SAAR,EAAmB,kBAAQC,MAAR,CAAe,eAAKC,IAAL,CAAUJ,YAAV,EAAwB,QAAxB,CAAf,CAAnB;;AAED;AACAD,KAAIM,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,MAAIC,QAAJ,CAAa,eAAKJ,IAAL,CAAUJ,YAAV,EAAwB,YAAxB,CAAb;AACA,EAFD;;AAIA,QAAOD,GAAP;AACA,C","file":"index.js","sourcesContent":["import \"babel-polyfill\";\n\nimport { version } from '../../package.json';\nimport express, { Router } from 'express';\nimport facets from './facets';\nimport path from 'path';\n\nexport default ({ config, db }) => {\n\tlet web = Router();\n  const webDirectory = __dirname+'../../../web/'\n\n\t// mount the facets resource\n\tweb.use('/facets', facets({ config, db }));\n\n  // use static directory\n  web.use('/static', express.static(path.join(webDirectory, \"public\")));\n\n\t// perhaps expose some API metadata at the root\n\tweb.get('/', (req, res) => {\n\t\tres.sendFile(path.join(webDirectory, \"index.html\"))\n\t});\n\n\treturn web;\n}\n"]}